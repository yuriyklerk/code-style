# Стиль кода и используемые стандарты PHP

**1. Переменные**

1.1. Переменная должна в полной мере описывать представляемую сущность. Исходя из ее названия, 
должно быть понятно, ее предназначение. Имя переменной должно отражать решение задачи реального мира, 
а не решение на языке программирования.

1.2. Умеренная длина. Название переменной недолжно быть слишком коротким ($arr1), и не слишком длинным. Длина должна 
быть достаточной, для легкого и удобного восприятия.

1.3. Однозначность в именовании. Плохо, когда название переменной, имеет неоднозначный смысл.

1.4. Переменные следует называть в стиле camelCase либо under_score.

**Хороший пример именования переменных:**
 > usersCount, userMonthWorkDaysCount, yearTax, maxComputedSalary 


**Плохой пример:**
 > x, $fb, f_ar_type_data, f_obj_result, inputData, returnValue, resultArray, obj1, obj2 

**Общие рекомендации использования переменных:**

1. Использовать каждую переменную только с одной целью.
2. Инициализировать переменные значением по умолчанию.
3. Располагать команды использующие одну и туже переменную как можно
ближе друг к другу.
4. Имена булевых переменных должны быть в утвердительной форме и подразумевать булево значение: done, error, found, finished. Плохо: status, source.
5. Избегать имен с похожими значениями (в рамках конкретной области видимости): fileNumber/fileIndex; scoresNumber/scoresCount. Применять только один из вариантов. Пишите имена без орфографических ошибок и опечаток.

**2. Константы:**

2.1. Константам необходимо давать имена в верхнем регистре и использовать нижнее подчеркивание в качестве разделителя:
Например:
```php
  const VERSION = '1.0';
  const DATE_APPROVED = '2012-06-01';
```

2.2. Префиксы в перечислениях (на примере статусов). При использовании перечислений, имеет смысл стави ть префикс.
```php
  const STATUS_OPENED = false;
  const STATUS_INPROGRESS = false;
  const STATUS_CLOSED = false;

```
**3. Методы:**

3.1. Методам необходимо давать имена в стиле camelCase().


**4. Классы:**

4.1. Имена классов должны быть объявлены с использованием «StudlyCaps» (каждое слово начинается с большой буквы, между словами нет разделителей).

**5. Файлы:**

5.1. PHP-код ОБЯЗАТЕЛЬНО следует заключать в полную версию (```<?php ?>```) тегов или укороченную (сокращённую запись echo) версию (```<?= ?>```) тегов и НЕДОПУСТИМО заключать ни в какие иные разновидности тегов.

5.2. PHP-код ДОЛЖЕН быть представлен только в кодировке UTF-8 без BOM-байта.

5.3. В файлах СЛЕДУЕТ либо объявлять структуры (классы, функции, константы и т.п.) и не создавать побочных эффектов 
(например: передавать данные в выходной поток, модифицировать настройки и т.п.), либо реализовывать логику, порождающую побочные эффекты, но НЕ СЛЕДУЕТ делать одновременно и то, и другое.

5.4. Полностью определённое пространство имён и имя класса должны иметь следующую структуру:

```  \<Vendor Name>\(<Namespace>\)*<Class Name> ```

5.5. Каждый разделитель пространства имён при обращении к файловой системе преобразуется в ```РАЗДЕЛИТЕЛЬ_ИМЁН_КАТАЛОГОВ```.
Каждый символ _ («знак подчёркивания») в ```ИМЕНИ_КЛАССА``` преобразуется в  ```РАЗДЕЛИТЕЛЬ_ИМЁН_КАТАЛОГОВ```.

5.6. Все PHP-файлы НЕОБХОДИМО заканчивать одной пустой строкой.

5.7. Закрывающий тэг ?> НЕОБХОДИМО удалять из файлов, содержащих только PHP.


**6. Стиль кода:**

6.1.1. Для отступов НЕОБХОДИМО использовать 4 пробела, а не табы.

6.1.2. НЕДОПУСТИМО жёстко ограничивать длину строки; мягкое ограничение длины строки ДОЛЖНО быть 120 символов; строки СЛЕДУЕТ делать не длиннее 80 символов.

6.1.3. НЕОБХОДИМО оставлять одну пустую строку после объявления пространства имён (namespace) и НЕОБХОДИМО оставлять одну пустую строку после блока операторов use.

6.1.4. Открывающие фигурные скобки классов НЕОБХОДИМО переносить на следующую строку, а закрывающие фигурные скобки переносить на следующую строку после тела.

6.1.5. Видимость НЕОБХОДИМО объявлять для всех свойств и методов; abstract и final НЕОБХОДИМО ставить перед модификатором видимости; static НЕОБХОДИМО ставить после модификатора видимости.

6.1.6. После ключевых слов управляющих структур НЕОБХОДИМО ставить один пробел; после названий функций и методов — НЕДОПУСТИМО.

6.1.7. Открывающие фигурные скобки управляющих структур НЕОБХОДИМО оставлять на той же строке, а закрывающие фигурные скобки переносить на следующую строку после тела.

6.1.8. НЕДОПУСТИМО ставить пробел после открывающих круглых скобок управляющих структур и НЕДОПУСТИМО ставить пробел перед закрывающими круглыми скобками управляющих структур.

6.1.9. НЕДОПУСТИМО оставлять пробелы в конце непустых строк.

6.2.1. МОЖНО использовать пустые строки для улучшения читаемости и обозначения связанных блоков кода.

6.2.2. НЕДОПУСТИМО писать на одной строке более одной инструкции.

6.2.3. Ключевые слова PHP НЕОБХОДИМО писать в нижнем регистре. (Никаких ```FALSE```, ```NULL``` быть не должно)

6.2.4. НЕОБХОДИМО использовать один оператор ```use``` на одно объявление (импорт или создание псевдонима).

6.2.5. НЕОБХОДИМО оставлять одну пустую строку после блока операторов ```use```.


**Хороший пример стиля написания кода:**
```php
<?php
namespace Vendor\Package;

use FooInterface;
use BarClass as Bar;
use OtherVendor\OtherPackage\BazClass;

class Foo extends Bar implements FooInterface
{
    public function sampleFunction($a, $b = null)
    {
        if ($a === $b) {
            bar();
        } elseif ($a > $b) {
            $foo->bar($arg1);
        } else {
            BazClass::bar($arg2, $arg3);
        }
    }

    final public static function bar()
    {
        // тело метода
    }
}
```

6.2.6. Ключевые слова extends и implements НЕОБХОДИМО располагать на одной строке с именем класса.

6.2.7. Открывающую фигурную скобку класса НЕОБХОДИМО переносить на следующую строку; закрывающую фигурную скобку класса НЕОБХОДИМО располагать на следующей строке после тела класса.

```php
<?php
namespace Vendor\Package;

use FooClass;
use BarClass as Bar;
use OtherVendor\OtherPackage\BazClass;

class ClassName extends ParentClass implements \ArrayAccess, \Countable
{
    // константы, свойства, методы
}
```

6.2.8. Список implements МОЖНО разбить на несколько строк, каждая из которых с одним отступом. При этом первый интерфейс в списке НЕОБХОДИМО перенести на следующую строку, и в каждой строке НЕОБХОДИМО указать только один интерфейс.

```php
<?php
namespace Vendor\Package;

use FooClass;
use BarClass as Bar;
use OtherVendor\OtherPackage\BazClass;

class ClassName extends ParentClass implements
    \ArrayAccess,
    \Countable,
    \Serializable
{
    // константы, свойства, методы
}
```
**7. Свойства: **

7.1.1. Видимость НЕОБХОДИМО объявлять для всех свойств.

7.1.2. Использовать ключевое слово var для объявления свойств НЕДОПУСТИМО.

7.1.3. НЕДОПУСТИМО в одном объявлении указывать более одного свойства.

7.1.4. НЕ СЛЕДУЕТ начинать название свойства с подчёркивания для обозначения приватной или защищённой видимости.

**Пример:**
```php
<?php
namespace Vendor\Package;

class ClassName
{
    public $foo = null;
}
```

**8. Методы:**

8.1. Видимость НЕОБХОДИМО объявлять для всех методов.

8.2. НЕ СЛЕДУЕТ начинать название метода с подчёркивания для обозначения приватной или защищённой видимости.

8.3. НЕДОПУСТИМО объявлять методы с пробелом после названия метода. Открывающую фигурную скобку НЕОБХОДИМО располагать на отдельной строке; закрывающую фигурную скобку НЕОБХОДИМО располагать на следующей строке после тела метода. НЕДОПУСТИМО оставлять пробел после открывающей круглой скобки и перед закрывающей.

8.4. В списке аргументов НЕДОПУСТИМЫ пробелы перед запятыми и НЕОБХОДИМ один пробел после каждой запятой.

8.5. Аргументы метода со значениями по умолчанию НЕОБХОДИМО располагать в конце списка аргументов.

8.6. Объявление метода выглядит как показано ниже. Обратите внимание на расположение запятых, пробелов, круглых, квадратных и фигурных скобок:

```php
<?php
namespace Vendor\Package;

class ClassName
{
    public function fooBarBaz($arg1, &$arg2, $arg3 = [])
    {
        // тело метода
    }
}
```

8.7. Список аргументов МОЖНО разбить на несколько строк, каждая из которых с одним отступом. При этом первый аргумент в списке НЕОБХОДИМО перенести на следующую строку, и в каждой строке НЕОБХОДИМО указать только один аргумент.

8.8. Когда список аргументов разбит на несколько строк, закрывающую круглую скобку и открывающую фигурную НЕОБХОДИМО располагать на одной отдельной строке, с одним пробелом между ними.

```php
<?php
namespace Vendor\Package;

class ClassName
{
    public function aVeryLongMethodName(
        ClassTypeHint $arg1,
        &$arg2,
        array $arg3 = []
    ) {
        // тело метода
    }
}
```


